{"ast":null,"code":"var InfoBox = /*#__PURE__*/function () {\n  function InfoBox(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    this.extend(InfoBox, google.maps.OverlayView); // Standard options (in common with google.maps.InfoWindow):\n\n    this.content = options.content || '';\n    this.disableAutoPan = options.disableAutoPan || false;\n    this.maxWidth = options.maxWidth || 0;\n    this.pixelOffset = options.pixelOffset || new google.maps.Size(0, 0);\n    this.position = options.position || new google.maps.LatLng(0, 0);\n    this.zIndex = options.zIndex || null; // Additional options (unique to InfoBox):\n\n    this.boxClass = options.boxClass || 'infoBox';\n    this.boxStyle = options.boxStyle || {};\n    this.closeBoxMargin = options.closeBoxMargin || '2px';\n    this.closeBoxURL = options.closeBoxURL || 'http://www.google.com/intl/en_us/mapfiles/close.gif';\n    if (options.closeBoxURL === '') {\n      this.closeBoxURL = '';\n    }\n    this.infoBoxClearance = options.infoBoxClearance || new google.maps.Size(1, 1);\n    if (typeof options.visible === 'undefined') {\n      if (typeof options.isHidden === 'undefined') {\n        options.visible = true;\n      } else {\n        options.visible = !options.isHidden;\n      }\n    }\n    this.isHidden = !options.visible;\n    this.alignBottom = options.alignBottom || false;\n    this.pane = options.pane || 'floatPane';\n    this.enableEventPropagation = options.enableEventPropagation || false;\n    this.div = null;\n    this.closeListener = null;\n    this.moveListener = null;\n    this.mapListener = null;\n    this.contextListener = null;\n    this.eventListeners = null;\n    this.fixedWidthSet = null;\n  }\n  var _proto = InfoBox.prototype;\n  _proto.createInfoBoxDiv = function createInfoBoxDiv() {\n    var _this = this;\n\n    // This handler prevents an event in the InfoBox from being passed on to the map.\n    function cancelHandler(event) {\n      event.cancelBubble = true;\n      if (event.stopPropagation) {\n        event.stopPropagation();\n      }\n    } // This handler ignores the current event in the InfoBox and conditionally prevents\n    // the event from being passed on to the map. It is used for the contextmenu event.\n    // eslint-disable-next-line  @getify/proper-arrows/this\n\n    var ignoreHandler = function ignoreHandler(event) {\n      event.returnValue = false;\n      if (event.preventDefault) {\n        event.preventDefault();\n      }\n      if (!_this.enableEventPropagation) {\n        cancelHandler(event);\n      }\n    };\n    if (!this.div) {\n      this.div = document.createElement('div');\n      this.setBoxStyle();\n      if (typeof this.content === 'string') {\n        this.div.innerHTML = this.getCloseBoxImg() + this.content;\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg();\n        this.div.appendChild(this.content);\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n      var panes = this.getPanes();\n      panes[this.pane].appendChild(this.div); // Add the InfoBox div to the DOM\n\n      this.addClickHandler();\n      if (this.div.style.width) {\n        this.fixedWidthSet = true;\n      } else {\n        if (this.maxWidth !== 0 && this.div.offsetWidth > this.maxWidth) {\n          this.div.style.width = this.maxWidth + 'px';\n          this.fixedWidthSet = true;\n        } else {\n          // The following code is needed to overcome problems with MSIE\n          var bw = this.getBoxWidths();\n          this.div.style.width = this.div.offsetWidth - bw.left - bw.right + 'px';\n          this.fixedWidthSet = false;\n        }\n      }\n      this.panBox(this.disableAutoPan);\n      if (!this.enableEventPropagation) {\n        this.eventListeners = []; // Cancel event propagation.\n        // Note: mousemove not included (to resolve Issue 152)\n\n        var events = ['mousedown', 'mouseover', 'mouseout', 'mouseup', 'click', 'dblclick', 'touchstart', 'touchend', 'touchmove'];\n        for (var i = 0; i < events.length; i++) {\n          this.eventListeners.push(google.maps.event.addDomListener(this.div, events[i], cancelHandler));\n        } // Workaround for Google bug that causes the cursor to change to a pointer\n        // when the mouse moves over a marker underneath InfoBox.\n\n        this.eventListeners.push(google.maps.event.addDomListener(this.div, 'mouseover',\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        function () {\n          if (_this.div) {\n            _this.div.style.cursor = 'default';\n          }\n        }));\n      }\n      this.contextListener = google.maps.event.addDomListener(this.div, 'contextmenu', ignoreHandler);\n      /**\r\n       * This event is fired when the DIV containing the InfoBox's content is attached to the DOM.\r\n       * @name InfoBox#domready\r\n       * @event\r\n       */\n\n      google.maps.event.trigger(this, 'domready');\n    }\n  };\n  _proto.getCloseBoxImg = function getCloseBoxImg() {\n    var img = '';\n    if (this.closeBoxURL !== '') {\n      img = '<img alt=\"\"';\n      img += ' aria-hidden=\"true\"';\n      img += \" src='\" + this.closeBoxURL + \"'\";\n      img += ' align=right'; // Do this because Opera chokes on style='float: right;'\n\n      img += \" style='\";\n      img += ' position: relative;'; // Required by MSIE\n\n      img += ' cursor: pointer;';\n      img += ' margin: ' + this.closeBoxMargin + ';';\n      img += \"'>\";\n    }\n    return img;\n  };\n  _proto.addClickHandler = function addClickHandler() {\n    if (this.div && this.div.firstChild && this.closeBoxURL !== '') {\n      var closeBox = this.div.firstChild;\n      this.closeListener = google.maps.event.addDomListener(closeBox, 'click', this.getCloseClickHandler());\n    } else {\n      this.closeListener = null;\n    }\n  };\n  _proto.getCloseClickHandler = function getCloseClickHandler() {\n    var _this2 = this;\n\n    // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    return function (event) {\n      // 1.0.3 fix: Always prevent propagation of a close box click to the map:\n      event.cancelBubble = true;\n      if (event.stopPropagation) {\n        event.stopPropagation();\n      }\n      /**\r\n       * This event is fired when the InfoBox's close box is clicked.\r\n       * @name InfoBox#closeclick\r\n       * @event\r\n       */\n\n      google.maps.event.trigger(_this2, 'closeclick');\n      _this2.close();\n    };\n  };\n  _proto.panBox = function panBox(disablePan) {\n    if (this.div && !disablePan) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      var map = this.getMap(); // Only pan if attached to map, not panorama\n\n      if (map instanceof google.maps.Map) {\n        var xOffset = 0;\n        var yOffset = 0;\n        var bounds = map.getBounds();\n        if (bounds && !bounds.contains(this.position)) {\n          // Marker not in visible area of map, so set center\n          // of map to the marker position first.\n          map.setCenter(this.position);\n        }\n        var mapDiv = map.getDiv(); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        var mapWidth = mapDiv.offsetWidth; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        var mapHeight = mapDiv.offsetHeight;\n        var iwOffsetX = this.pixelOffset.width;\n        var iwOffsetY = this.pixelOffset.height;\n        var iwWidth = this.div.offsetWidth;\n        var iwHeight = this.div.offsetHeight;\n        var padX = this.infoBoxClearance.width;\n        var padY = this.infoBoxClearance.height; // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        var projection = this.getProjection();\n        var pixPosition = projection.fromLatLngToContainerPixel(this.position);\n        if (pixPosition.x < -iwOffsetX + padX) {\n          xOffset = pixPosition.x + iwOffsetX - padX;\n        } else if (pixPosition.x + iwWidth + iwOffsetX + padX > mapWidth) {\n          xOffset = pixPosition.x + iwWidth + iwOffsetX + padX - mapWidth;\n        }\n        if (this.alignBottom) {\n          if (pixPosition.y < -iwOffsetY + padY + iwHeight) {\n            yOffset = pixPosition.y + iwOffsetY - padY - iwHeight;\n          } else if (pixPosition.y + iwOffsetY + padY > mapHeight) {\n            yOffset = pixPosition.y + iwOffsetY + padY - mapHeight;\n          }\n        } else {\n          if (pixPosition.y < -iwOffsetY + padY) {\n            yOffset = pixPosition.y + iwOffsetY - padY;\n          } else if (pixPosition.y + iwHeight + iwOffsetY + padY > mapHeight) {\n            yOffset = pixPosition.y + iwHeight + iwOffsetY + padY - mapHeight;\n          }\n        }\n        if (!(xOffset === 0 && yOffset === 0)) {\n          // Move the map to the shifted center.\n          map.panBy(xOffset, yOffset);\n        }\n      }\n    }\n  };\n  _proto.setBoxStyle = function setBoxStyle() {\n    if (this.div) {\n      // Apply style values from the style sheet defined in the boxClass parameter:\n      this.div.className = this.boxClass; // Clear existing inline style values:\n\n      this.div.style.cssText = ''; // Apply style values defined in the boxStyle parameter:\n\n      var boxStyle = this.boxStyle;\n      for (var i in boxStyle) {\n        if (boxStyle.hasOwnProperty(i)) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.div.style[i] = boxStyle[i];\n        }\n      } // Fix for iOS disappearing InfoBox problem\n      // See http://stackoverflow.com/questions/9229535/google-maps-markers-disappear-at-certain-zoom-level-only-on-iphone-ipad\n\n      this.div.style.webkitTransform = 'translateZ(0)'; // Fix up opacity style for benefit of MSIE\n\n      if (typeof this.div.style.opacity !== 'undefined' && this.div.style.opacity !== '') {\n        // See http://www.quirksmode.org/css/opacity.html\n        var opacity = parseFloat(this.div.style.opacity || ''); // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n\n        this.div.style.msFilter = '\"progid:DXImageTransform.Microsoft.Alpha(Opacity=' + opacity * 100 + ')\"';\n        this.div.style.filter = 'alpha(opacity=' + opacity * 100 + ')';\n      } // Apply required styles\n\n      this.div.style.position = 'absolute';\n      this.div.style.visibility = 'hidden';\n      if (this.zIndex !== null) {\n        this.div.style.zIndex = this.zIndex + '';\n      }\n      if (!this.div.style.overflow) {\n        this.div.style.overflow = 'auto';\n      }\n    }\n  };\n  _proto.getBoxWidths = function getBoxWidths() {\n    var bw = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n    if (!this.div) {\n      return bw;\n    }\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      var ownerDocument = this.div.ownerDocument;\n      var computedStyle = ownerDocument && ownerDocument.defaultView ? ownerDocument.defaultView.getComputedStyle(this.div, '') : null;\n      if (computedStyle) {\n        // The computed styles are always in pixel units (good!)\n        bw.top = parseInt(computedStyle.borderTopWidth || '', 10) || 0;\n        bw.bottom = parseInt(computedStyle.borderBottomWidth || '', 10) || 0;\n        bw.left = parseInt(computedStyle.borderLeftWidth || '', 10) || 0;\n        bw.right = parseInt(computedStyle.borderRightWidth || '', 10) || 0;\n      }\n    } else if (\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    document.documentElement.currentStyle // MSIE\n    ) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      var currentStyle = this.div.currentStyle;\n      if (currentStyle) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // The current styles may not be in pixel units, but assume they are (bad!)\n        bw.top = parseInt(currentStyle.borderTopWidth || '', 10) || 0;\n        bw.bottom = parseInt(currentStyle.borderBottomWidth || '', 10) || 0;\n        bw.left = parseInt(currentStyle.borderLeftWidth || '', 10) || 0;\n        bw.right = parseInt(currentStyle.borderRightWidth || '', 10) || 0;\n      }\n    }\n    return bw;\n  };\n  _proto.onRemove = function onRemove() {\n    if (this.div && this.div.parentNode) {\n      this.div.parentNode.removeChild(this.div);\n      this.div = null;\n    }\n  };\n  _proto.draw = function draw() {\n    this.createInfoBoxDiv();\n    if (this.div) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      var projection = this.getProjection();\n      var pixPosition = projection.fromLatLngToDivPixel(this.position);\n      this.div.style.left = pixPosition.x + this.pixelOffset.width + 'px';\n      if (this.alignBottom) {\n        this.div.style.bottom = -(pixPosition.y + this.pixelOffset.height) + 'px';\n      } else {\n        this.div.style.top = pixPosition.y + this.pixelOffset.height + 'px';\n      }\n      if (this.isHidden) {\n        this.div.style.visibility = 'hidden';\n      } else {\n        this.div.style.visibility = 'visible';\n      }\n    }\n  };\n  _proto.setOptions = function setOptions(options) {\n    if (options === void 0) {\n      options = {};\n    }\n    if (typeof options.boxClass !== 'undefined') {\n      // Must be first\n      this.boxClass = options.boxClass;\n      this.setBoxStyle();\n    }\n    if (typeof options.boxStyle !== 'undefined') {\n      // Must be second\n      this.boxStyle = options.boxStyle;\n      this.setBoxStyle();\n    }\n    if (typeof options.content !== 'undefined') {\n      this.setContent(options.content);\n    }\n    if (typeof options.disableAutoPan !== 'undefined') {\n      this.disableAutoPan = options.disableAutoPan;\n    }\n    if (typeof options.maxWidth !== 'undefined') {\n      this.maxWidth = options.maxWidth;\n    }\n    if (typeof options.pixelOffset !== 'undefined') {\n      this.pixelOffset = options.pixelOffset;\n    }\n    if (typeof options.alignBottom !== 'undefined') {\n      this.alignBottom = options.alignBottom;\n    }\n    if (typeof options.position !== 'undefined') {\n      this.setPosition(options.position);\n    }\n    if (typeof options.zIndex !== 'undefined') {\n      this.setZIndex(options.zIndex);\n    }\n    if (typeof options.closeBoxMargin !== 'undefined') {\n      this.closeBoxMargin = options.closeBoxMargin;\n    }\n    if (typeof options.closeBoxURL !== 'undefined') {\n      this.closeBoxURL = options.closeBoxURL;\n    }\n    if (typeof options.infoBoxClearance !== 'undefined') {\n      this.infoBoxClearance = options.infoBoxClearance;\n    }\n    if (typeof options.isHidden !== 'undefined') {\n      this.isHidden = options.isHidden;\n    }\n    if (typeof options.visible !== 'undefined') {\n      this.isHidden = !options.visible;\n    }\n    if (typeof options.enableEventPropagation !== 'undefined') {\n      this.enableEventPropagation = options.enableEventPropagation;\n    }\n    if (this.div) {\n      this.draw();\n    }\n  };\n  _proto.setContent = function setContent(content) {\n    this.content = content;\n    if (this.div) {\n      if (this.closeListener) {\n        google.maps.event.removeListener(this.closeListener);\n        this.closeListener = null;\n      } // Odd code required to make things work with MSIE.\n\n      if (!this.fixedWidthSet) {\n        this.div.style.width = '';\n      }\n      if (typeof content === 'string') {\n        this.div.innerHTML = this.getCloseBoxImg() + content;\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg();\n        this.div.appendChild(content);\n      } // Perverse code required to make things work with MSIE.\n      // (Ensures the close box does, in fact, float to the right.)\n\n      if (!this.fixedWidthSet) {\n        this.div.style.width = this.div.offsetWidth + 'px';\n        if (typeof content === 'string') {\n          this.div.innerHTML = this.getCloseBoxImg() + content;\n        } else {\n          this.div.innerHTML = this.getCloseBoxImg();\n          this.div.appendChild(content);\n        }\n      }\n      this.addClickHandler();\n    }\n    /**\r\n     * This event is fired when the content of the InfoBox changes.\r\n     * @name InfoBox#content_changed\r\n     * @event\r\n     */\n\n    google.maps.event.trigger(this, 'content_changed');\n  };\n  _proto.setPosition = function setPosition(latLng) {\n    this.position = latLng;\n    if (this.div) {\n      this.draw();\n    }\n    /**\r\n     * This event is fired when the position of the InfoBox changes.\r\n     * @name InfoBox#position_changed\r\n     * @event\r\n     */\n\n    google.maps.event.trigger(this, 'position_changed');\n  };\n  _proto.setVisible = function setVisible(isVisible) {\n    this.isHidden = !isVisible;\n    if (this.div) {\n      this.div.style.visibility = this.isHidden ? 'hidden' : 'visible';\n    }\n  };\n  _proto.setZIndex = function setZIndex(index) {\n    this.zIndex = index;\n    if (this.div) {\n      this.div.style.zIndex = index + '';\n    }\n    /**\r\n     * This event is fired when the zIndex of the InfoBox changes.\r\n     * @name InfoBox#zindex_changed\r\n     * @event\r\n     */\n\n    google.maps.event.trigger(this, 'zindex_changed');\n  };\n  _proto.getContent = function getContent() {\n    return this.content;\n  };\n  _proto.getPosition = function getPosition() {\n    return this.position;\n  };\n  _proto.getZIndex = function getZIndex() {\n    return this.zIndex;\n  };\n  _proto.getVisible = function getVisible() {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    var map = this.getMap();\n    var isVisible;\n    if (typeof map === 'undefined' || map === null) {\n      isVisible = false;\n    } else {\n      isVisible = !this.isHidden;\n    }\n    return isVisible;\n  };\n  _proto.show = function show() {\n    this.isHidden = false;\n    if (this.div) {\n      this.div.style.visibility = 'visible';\n    }\n  };\n  _proto.hide = function hide() {\n    this.isHidden = true;\n    if (this.div) {\n      this.div.style.visibility = 'hidden';\n    }\n  };\n  _proto.open = function open(map, anchor) {\n    var _this3 = this;\n    if (anchor) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      this.position = anchor.getPosition();\n      this.moveListener = google.maps.event.addListener(anchor, 'position_changed',\n      // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      function () {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        var position = anchor.getPosition();\n        _this3.setPosition(position);\n      });\n      this.mapListener = google.maps.event.addListener(anchor, 'map_changed',\n      // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n      function () {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        _this3.setMap(anchor.map);\n      });\n    } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n    this.setMap(map);\n    if (this.div) {\n      this.panBox();\n    }\n  };\n  _proto.close = function close() {\n    if (this.closeListener) {\n      google.maps.event.removeListener(this.closeListener);\n      this.closeListener = null;\n    }\n    if (this.eventListeners) {\n      for (var i = 0; i < this.eventListeners.length; i++) {\n        google.maps.event.removeListener(this.eventListeners[i]);\n      }\n      this.eventListeners = null;\n    }\n    if (this.moveListener) {\n      google.maps.event.removeListener(this.moveListener);\n      this.moveListener = null;\n    }\n    if (this.mapListener) {\n      google.maps.event.removeListener(this.mapListener);\n      this.mapListener = null;\n    }\n    if (this.contextListener) {\n      google.maps.event.removeListener(this.contextListener);\n      this.contextListener = null;\n    } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n\n    this.setMap(null);\n  };\n  _proto.extend = function extend(obj1, obj2) {\n    return function applyExtend(object) {\n      // eslint-disable-next-line guard-for-in\n      for (var property in object.prototype) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        if (!this.prototype.hasOwnProperty(property)) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.prototype[property] = object.prototype[property];\n        }\n      } // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n\n      return this;\n    }.apply(obj1, [obj2]);\n  };\n  return InfoBox;\n}();\nexport { InfoBox };","map":{"version":3,"names":["InfoBox","options","extend","google","maps","OverlayView","content","disableAutoPan","maxWidth","pixelOffset","Size","position","LatLng","zIndex","boxClass","boxStyle","closeBoxMargin","closeBoxURL","infoBoxClearance","visible","isHidden","alignBottom","pane","enableEventPropagation","div","closeListener","moveListener","mapListener","contextListener","eventListeners","fixedWidthSet","_proto","prototype","createInfoBoxDiv","cancelHandler","event","cancelBubble","stopPropagation","ignoreHandler","returnValue","preventDefault","_this","document","createElement","setBoxStyle","innerHTML","getCloseBoxImg","appendChild","panes","getPanes","addClickHandler","style","width","offsetWidth","bw","getBoxWidths","left","right","panBox","events","i","length","push","addDomListener","cursor","trigger","img","firstChild","closeBox","getCloseClickHandler","_this2","close","disablePan","map","getMap","Map","xOffset","yOffset","bounds","getBounds","contains","setCenter","mapDiv","getDiv","mapWidth","mapHeight","offsetHeight","iwOffsetX","iwOffsetY","height","iwWidth","iwHeight","padX","padY","projection","getProjection","pixPosition","fromLatLngToContainerPixel","x","y","panBy","className","cssText","hasOwnProperty","webkitTransform","opacity","parseFloat","msFilter","filter","visibility","overflow","top","bottom","defaultView","getComputedStyle","ownerDocument","computedStyle","parseInt","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","documentElement","currentStyle","onRemove","parentNode","removeChild","draw","fromLatLngToDivPixel","setOptions","setContent","setPosition","setZIndex","removeListener","latLng","setVisible","isVisible","index","getContent","getPosition","getZIndex","getVisible","show","hide","open","anchor","addListener","_this3","setMap","obj1","obj2","applyExtend","object","property","apply"],"sources":["../src/InfoBox.tsx"],"sourcesContent":["/* global google */\n/* eslint-disable filenames/match-regex */\nimport { InfoBoxOptions } from './types'\n\nexport class InfoBox {\n  content: string | Node\n  disableAutoPan: boolean\n  maxWidth: number\n  pixelOffset: google.maps.Size\n  position: google.maps.LatLng\n  zIndex: number | undefined | null\n  boxClass: string\n  boxStyle: {\n    [key: string]: any\n  }\n  closeBoxMargin: string\n  closeBoxURL: string\n  infoBoxClearance: google.maps.Size\n  isHidden: boolean\n  alignBottom: boolean\n  pane: string\n  enableEventPropagation: boolean\n  div: HTMLDivElement | null\n  closeListener: google.maps.MapsEventListener | null\n  moveListener: google.maps.MapsEventListener | null\n  mapListener: google.maps.MapsEventListener | null\n  contextListener: google.maps.MapsEventListener | null\n  eventListeners: google.maps.MapsEventListener[] | null\n  fixedWidthSet: boolean | null\n\n  constructor(options: InfoBoxOptions = {}) {\n    this.extend(InfoBox, google.maps.OverlayView)\n\n    // Standard options (in common with google.maps.InfoWindow):\n    this.content = options.content || ''\n    this.disableAutoPan = options.disableAutoPan || false\n    this.maxWidth = options.maxWidth || 0\n    this.pixelOffset = options.pixelOffset || new google.maps.Size(0, 0)\n    this.position = options.position || new google.maps.LatLng(0, 0)\n    this.zIndex = options.zIndex || null\n\n    // Additional options (unique to InfoBox):\n    this.boxClass = options.boxClass || 'infoBox'\n    this.boxStyle = options.boxStyle || {}\n    this.closeBoxMargin = options.closeBoxMargin || '2px'\n    this.closeBoxURL = options.closeBoxURL || 'http://www.google.com/intl/en_us/mapfiles/close.gif'\n    if (options.closeBoxURL === '') {\n      this.closeBoxURL = ''\n    }\n    this.infoBoxClearance = options.infoBoxClearance || new google.maps.Size(1, 1)\n\n    if (typeof options.visible === 'undefined') {\n      if (typeof options.isHidden === 'undefined') {\n        options.visible = true\n      } else {\n        options.visible = !options.isHidden\n      }\n    }\n    this.isHidden = !options.visible\n\n    this.alignBottom = options.alignBottom || false\n    this.pane = options.pane || 'floatPane'\n    this.enableEventPropagation = options.enableEventPropagation || false\n\n    this.div = null\n    this.closeListener = null\n    this.moveListener = null\n    this.mapListener = null\n    this.contextListener = null\n    this.eventListeners = null\n    this.fixedWidthSet = null\n  }\n\n  createInfoBoxDiv(): void {\n    // This handler prevents an event in the InfoBox from being passed on to the map.\n    function cancelHandler(event: Event) {\n      event.cancelBubble = true\n      if (event.stopPropagation) {\n        event.stopPropagation()\n      }\n    }\n\n    // This handler ignores the current event in the InfoBox and conditionally prevents\n    // the event from being passed on to the map. It is used for the contextmenu event.\n    // eslint-disable-next-line  @getify/proper-arrows/this\n    const ignoreHandler = (event: Event) => {\n      event.returnValue = false\n\n      if (event.preventDefault) {\n        event.preventDefault()\n      }\n\n      if (!this.enableEventPropagation) {\n        cancelHandler(event)\n      }\n    }\n\n    if (!this.div) {\n      this.div = document.createElement('div')\n      this.setBoxStyle()\n\n      if (typeof this.content === 'string') {\n        this.div.innerHTML = this.getCloseBoxImg() + this.content\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg()\n        this.div.appendChild(this.content)\n      }\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      const panes = this.getPanes()\n      panes[this.pane].appendChild(this.div) // Add the InfoBox div to the DOM\n\n      this.addClickHandler()\n\n      if (this.div.style.width) {\n        this.fixedWidthSet = true\n      } else {\n        if (this.maxWidth !== 0 && this.div.offsetWidth > this.maxWidth) {\n          this.div.style.width = this.maxWidth + 'px'\n          this.fixedWidthSet = true\n        } else {\n          // The following code is needed to overcome problems with MSIE\n          const bw = this.getBoxWidths()\n          this.div.style.width = this.div.offsetWidth - bw.left - bw.right + 'px'\n          this.fixedWidthSet = false\n        }\n      }\n\n      this.panBox(this.disableAutoPan)\n\n      if (!this.enableEventPropagation) {\n        this.eventListeners = []\n\n        // Cancel event propagation.\n        // Note: mousemove not included (to resolve Issue 152)\n        const events = [\n          'mousedown',\n          'mouseover',\n          'mouseout',\n          'mouseup',\n          'click',\n          'dblclick',\n          'touchstart',\n          'touchend',\n          'touchmove',\n        ]\n\n        for (let i = 0; i < events.length; i++) {\n          this.eventListeners.push(\n            google.maps.event.addDomListener(this.div, events[i], cancelHandler)\n          )\n        }\n\n        // Workaround for Google bug that causes the cursor to change to a pointer\n        // when the mouse moves over a marker underneath InfoBox.\n        this.eventListeners.push(\n          google.maps.event.addDomListener(\n            this.div,\n            'mouseover',\n            // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n            () => {\n              if (this.div) {\n                this.div.style.cursor = 'default'\n              }\n            }\n          )\n        )\n      }\n\n      this.contextListener = google.maps.event.addDomListener(\n        this.div,\n        'contextmenu',\n        ignoreHandler\n      )\n\n      /**\n       * This event is fired when the DIV containing the InfoBox's content is attached to the DOM.\n       * @name InfoBox#domready\n       * @event\n       */\n      google.maps.event.trigger(this, 'domready')\n    }\n  }\n\n  getCloseBoxImg(): string {\n    let img = ''\n\n    if (this.closeBoxURL !== '') {\n      img = '<img alt=\"\"'\n      img += ' aria-hidden=\"true\"'\n      img += \" src='\" + this.closeBoxURL + \"'\"\n      img += ' align=right' // Do this because Opera chokes on style='float: right;'\n      img += \" style='\"\n      img += ' position: relative;' // Required by MSIE\n      img += ' cursor: pointer;'\n      img += ' margin: ' + this.closeBoxMargin + ';'\n      img += \"'>\"\n    }\n\n    return img\n  }\n\n  addClickHandler(): void {\n    if (this.div && this.div.firstChild && this.closeBoxURL !== '') {\n      const closeBox = this.div.firstChild\n      this.closeListener = google.maps.event.addDomListener(\n        closeBox,\n        'click',\n        this.getCloseClickHandler()\n      )\n    } else {\n      this.closeListener = null\n    }\n  }\n\n  getCloseClickHandler() {\n    // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n    return (event: Event) => {\n      // 1.0.3 fix: Always prevent propagation of a close box click to the map:\n      event.cancelBubble = true\n\n      if (event.stopPropagation) {\n        event.stopPropagation()\n      }\n\n      /**\n       * This event is fired when the InfoBox's close box is clicked.\n       * @name InfoBox#closeclick\n       * @event\n       */\n      google.maps.event.trigger(this, 'closeclick')\n\n      this.close()\n    }\n  }\n\n  panBox(disablePan?: boolean): void {\n    if (this.div && !disablePan) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      const map: google.maps.Map | google.maps.StreetViewPanorama | null | undefined = this.getMap()\n\n      // Only pan if attached to map, not panorama\n      if (map instanceof google.maps.Map) {\n        let xOffset = 0\n        let yOffset = 0\n\n        const bounds = map.getBounds()\n        if (bounds && !bounds.contains(this.position)) {\n          // Marker not in visible area of map, so set center\n          // of map to the marker position first.\n          map.setCenter(this.position)\n        }\n\n        const mapDiv = map.getDiv()\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        const mapWidth = mapDiv.offsetWidth\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        const mapHeight = mapDiv.offsetHeight\n        const iwOffsetX = this.pixelOffset.width\n        const iwOffsetY = this.pixelOffset.height\n        const iwWidth = this.div.offsetWidth\n        const iwHeight = this.div.offsetHeight\n        const padX = this.infoBoxClearance.width\n        const padY = this.infoBoxClearance.height\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        const projection: google.maps.MapCanvasProjection = this.getProjection()\n        const pixPosition = projection.fromLatLngToContainerPixel(this.position)\n\n        if (pixPosition.x < -iwOffsetX + padX) {\n          xOffset = pixPosition.x + iwOffsetX - padX\n        } else if (pixPosition.x + iwWidth + iwOffsetX + padX > mapWidth) {\n          xOffset = pixPosition.x + iwWidth + iwOffsetX + padX - mapWidth\n        }\n        if (this.alignBottom) {\n          if (pixPosition.y < -iwOffsetY + padY + iwHeight) {\n            yOffset = pixPosition.y + iwOffsetY - padY - iwHeight\n          } else if (pixPosition.y + iwOffsetY + padY > mapHeight) {\n            yOffset = pixPosition.y + iwOffsetY + padY - mapHeight\n          }\n        } else {\n          if (pixPosition.y < -iwOffsetY + padY) {\n            yOffset = pixPosition.y + iwOffsetY - padY\n          } else if (pixPosition.y + iwHeight + iwOffsetY + padY > mapHeight) {\n            yOffset = pixPosition.y + iwHeight + iwOffsetY + padY - mapHeight\n          }\n        }\n\n        if (!(xOffset === 0 && yOffset === 0)) {\n          // Move the map to the shifted center.\n          map.panBy(xOffset, yOffset)\n        }\n      }\n    }\n  }\n\n  setBoxStyle(): void {\n    if (this.div) {\n      // Apply style values from the style sheet defined in the boxClass parameter:\n      this.div.className = this.boxClass\n\n      // Clear existing inline style values:\n      this.div.style.cssText = ''\n\n      // Apply style values defined in the boxStyle parameter:\n      const boxStyle = this.boxStyle\n      for (const i in boxStyle) {\n        if (boxStyle.hasOwnProperty(i)) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.div.style[i] = boxStyle[i]\n        }\n      }\n\n      // Fix for iOS disappearing InfoBox problem\n      // See http://stackoverflow.com/questions/9229535/google-maps-markers-disappear-at-certain-zoom-level-only-on-iphone-ipad\n      this.div.style.webkitTransform = 'translateZ(0)'\n\n      // Fix up opacity style for benefit of MSIE\n      if (typeof this.div.style.opacity !== 'undefined' && this.div.style.opacity !== '') {\n        // See http://www.quirksmode.org/css/opacity.html\n        const opacity = parseFloat(this.div.style.opacity || '')\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        this.div.style.msFilter =\n          '\"progid:DXImageTransform.Microsoft.Alpha(Opacity=' + opacity * 100 + ')\"'\n        this.div.style.filter = 'alpha(opacity=' + opacity * 100 + ')'\n      }\n\n      // Apply required styles\n      this.div.style.position = 'absolute'\n      this.div.style.visibility = 'hidden'\n      if (this.zIndex !== null) {\n        this.div.style.zIndex = this.zIndex + ''\n      }\n      if (!this.div.style.overflow) {\n        this.div.style.overflow = 'auto'\n      }\n    }\n  }\n\n  getBoxWidths(): { bottom: number; left: number; right: number; top: number } {\n    const bw = { top: 0, bottom: 0, left: 0, right: 0 }\n\n    if (!this.div) {\n      return bw\n    }\n\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      const ownerDocument = this.div.ownerDocument\n      const computedStyle =\n        ownerDocument && ownerDocument.defaultView\n          ? ownerDocument.defaultView.getComputedStyle(this.div, '')\n          : null\n\n      if (computedStyle) {\n        // The computed styles are always in pixel units (good!)\n        bw.top = parseInt(computedStyle.borderTopWidth || '', 10) || 0\n        bw.bottom = parseInt(computedStyle.borderBottomWidth || '', 10) || 0\n        bw.left = parseInt(computedStyle.borderLeftWidth || '', 10) || 0\n        bw.right = parseInt(computedStyle.borderRightWidth || '', 10) || 0\n      }\n    } else if (\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      document.documentElement.currentStyle // MSIE\n    ) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      const currentStyle = this.div.currentStyle\n\n      if (currentStyle) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // The current styles may not be in pixel units, but assume they are (bad!)\n        bw.top = parseInt(currentStyle.borderTopWidth || '', 10) || 0\n        bw.bottom = parseInt(currentStyle.borderBottomWidth || '', 10) || 0\n        bw.left = parseInt(currentStyle.borderLeftWidth || '', 10) || 0\n        bw.right = parseInt(currentStyle.borderRightWidth || '', 10) || 0\n      }\n    }\n\n    return bw\n  }\n\n  onRemove(): void {\n    if (this.div && this.div.parentNode) {\n      this.div.parentNode.removeChild(this.div)\n      this.div = null\n    }\n  }\n\n  draw(): void {\n    this.createInfoBoxDiv()\n\n    if (this.div) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      const projection: google.maps.MapCanvasProjection = this.getProjection()\n      const pixPosition = projection.fromLatLngToDivPixel(this.position)\n\n      this.div.style.left = pixPosition.x + this.pixelOffset.width + 'px'\n\n      if (this.alignBottom) {\n        this.div.style.bottom = -(pixPosition.y + this.pixelOffset.height) + 'px'\n      } else {\n        this.div.style.top = pixPosition.y + this.pixelOffset.height + 'px'\n      }\n\n      if (this.isHidden) {\n        this.div.style.visibility = 'hidden'\n      } else {\n        this.div.style.visibility = 'visible'\n      }\n    }\n  }\n\n  setOptions(options: InfoBoxOptions = {}): void {\n    if (typeof options.boxClass !== 'undefined') {\n      // Must be first\n      this.boxClass = options.boxClass\n      this.setBoxStyle()\n    }\n    if (typeof options.boxStyle !== 'undefined') {\n      // Must be second\n      this.boxStyle = options.boxStyle\n      this.setBoxStyle()\n    }\n    if (typeof options.content !== 'undefined') {\n      this.setContent(options.content)\n    }\n    if (typeof options.disableAutoPan !== 'undefined') {\n      this.disableAutoPan = options.disableAutoPan\n    }\n    if (typeof options.maxWidth !== 'undefined') {\n      this.maxWidth = options.maxWidth\n    }\n    if (typeof options.pixelOffset !== 'undefined') {\n      this.pixelOffset = options.pixelOffset\n    }\n    if (typeof options.alignBottom !== 'undefined') {\n      this.alignBottom = options.alignBottom\n    }\n    if (typeof options.position !== 'undefined') {\n      this.setPosition(options.position)\n    }\n    if (typeof options.zIndex !== 'undefined') {\n      this.setZIndex(options.zIndex)\n    }\n    if (typeof options.closeBoxMargin !== 'undefined') {\n      this.closeBoxMargin = options.closeBoxMargin\n    }\n    if (typeof options.closeBoxURL !== 'undefined') {\n      this.closeBoxURL = options.closeBoxURL\n    }\n    if (typeof options.infoBoxClearance !== 'undefined') {\n      this.infoBoxClearance = options.infoBoxClearance\n    }\n    if (typeof options.isHidden !== 'undefined') {\n      this.isHidden = options.isHidden\n    }\n    if (typeof options.visible !== 'undefined') {\n      this.isHidden = !options.visible\n    }\n    if (typeof options.enableEventPropagation !== 'undefined') {\n      this.enableEventPropagation = options.enableEventPropagation\n    }\n\n    if (this.div) {\n      this.draw()\n    }\n  }\n\n  setContent(content: string | Node): void {\n    this.content = content\n\n    if (this.div) {\n      if (this.closeListener) {\n        google.maps.event.removeListener(this.closeListener)\n        this.closeListener = null\n      }\n\n      // Odd code required to make things work with MSIE.\n      if (!this.fixedWidthSet) {\n        this.div.style.width = ''\n      }\n\n      if (typeof content === 'string') {\n        this.div.innerHTML = this.getCloseBoxImg() + content\n      } else {\n        this.div.innerHTML = this.getCloseBoxImg()\n        this.div.appendChild(content)\n      }\n\n      // Perverse code required to make things work with MSIE.\n      // (Ensures the close box does, in fact, float to the right.)\n      if (!this.fixedWidthSet) {\n        this.div.style.width = this.div.offsetWidth + 'px'\n        if (typeof content === 'string') {\n          this.div.innerHTML = this.getCloseBoxImg() + content\n        } else {\n          this.div.innerHTML = this.getCloseBoxImg()\n          this.div.appendChild(content)\n        }\n      }\n\n      this.addClickHandler()\n    }\n\n    /**\n     * This event is fired when the content of the InfoBox changes.\n     * @name InfoBox#content_changed\n     * @event\n     */\n    google.maps.event.trigger(this, 'content_changed')\n  }\n\n  setPosition(latLng: google.maps.LatLng): void {\n    this.position = latLng\n\n    if (this.div) {\n      this.draw()\n    }\n\n    /**\n     * This event is fired when the position of the InfoBox changes.\n     * @name InfoBox#position_changed\n     * @event\n     */\n    google.maps.event.trigger(this, 'position_changed')\n  }\n\n  setVisible(isVisible: boolean): void {\n    this.isHidden = !isVisible\n    if (this.div) {\n      this.div.style.visibility = this.isHidden ? 'hidden' : 'visible'\n    }\n  }\n\n  setZIndex(index: number): void {\n    this.zIndex = index\n\n    if (this.div) {\n      this.div.style.zIndex = index + ''\n    }\n\n    /**\n     * This event is fired when the zIndex of the InfoBox changes.\n     * @name InfoBox#zindex_changed\n     * @event\n     */\n    google.maps.event.trigger(this, 'zindex_changed')\n  }\n\n  getContent(): string | Node {\n    return this.content\n  }\n\n  getPosition(): google.maps.LatLng {\n    return this.position\n  }\n\n  getZIndex(): number | null | undefined {\n    return this.zIndex\n  }\n\n  getVisible(): boolean {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    const map: google.maps.Map | google.maps.StreetViewPanorama | null | undefined = this.getMap()\n    let isVisible\n\n    if (typeof map === 'undefined' || map === null) {\n      isVisible = false\n    } else {\n      isVisible = !this.isHidden\n    }\n\n    return isVisible\n  }\n\n  show(): void {\n    this.isHidden = false\n    if (this.div) {\n      this.div.style.visibility = 'visible'\n    }\n  }\n\n  hide(): void {\n    this.isHidden = true\n    if (this.div) {\n      this.div.style.visibility = 'hidden'\n    }\n  }\n\n  open(\n    map: google.maps.Map | google.maps.StreetViewPanorama,\n    anchor?: google.maps.MVCObject\n  ): void {\n    if (anchor) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      this.position = anchor.getPosition()\n      this.moveListener = google.maps.event.addListener(\n        anchor,\n        'position_changed',\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          const position = anchor.getPosition()\n          this.setPosition(position)\n        }\n      )\n\n      this.mapListener = google.maps.event.addListener(\n        anchor,\n        'map_changed',\n        // eslint-disable-next-line  @getify/proper-arrows/this, @getify/proper-arrows/name\n        () => {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.setMap(anchor.map)\n        }\n      )\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.setMap(map)\n\n    if (this.div) {\n      this.panBox()\n    }\n  }\n\n  close() {\n    if (this.closeListener) {\n      google.maps.event.removeListener(this.closeListener)\n      this.closeListener = null\n    }\n\n    if (this.eventListeners) {\n      for (let i = 0; i < this.eventListeners.length; i++) {\n        google.maps.event.removeListener(this.eventListeners[i])\n      }\n      this.eventListeners = null\n    }\n\n    if (this.moveListener) {\n      google.maps.event.removeListener(this.moveListener)\n      this.moveListener = null\n    }\n\n    if (this.mapListener) {\n      google.maps.event.removeListener(this.mapListener)\n      this.mapListener = null\n    }\n\n    if (this.contextListener) {\n      google.maps.event.removeListener(this.contextListener)\n      this.contextListener = null\n    }\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    this.setMap(null)\n  }\n\n  extend(obj1: any, obj2: any): any {\n    return function applyExtend(object: any) {\n      // eslint-disable-next-line guard-for-in\n      for (const property in object.prototype) {\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore\n        if (!this.prototype.hasOwnProperty(property)) {\n          // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n          // @ts-ignore\n          this.prototype[property] = object.prototype[property]\n        }\n      }\n\n      // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n      // @ts-ignore\n      return this\n    }.apply(obj1, [obj2])\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}